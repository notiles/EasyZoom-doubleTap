/*!
 * @name        easyzoom
 * @author       <>
 * @modified    Friday, February 4th, 2022
 * @version     2.5.2
 */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(t){e(t)}):"object"==typeof module&&module.exports?module.exports=t.EasyZoom=e(require("jquery")):t.EasyZoom=e(t.jQuery)}(this,function(o){"use strict";var c,d,p,l,i,s,h={loadingNotice:"Loading image",errorNotice:"The image could not be loaded",errorDuration:2500,linkAttribute:"href",preventClicks:!0,beforeShow:o.noop,beforeHide:o.noop,onShow:o.noop,onHide:o.noop,onMove:o.noop};function a(t,e){this.$target=o(t),this.opts=o.extend({},h,e,this.$target.data()),void 0===this.isOpen&&this._init()}return a.prototype._init=function(){this.$link=this.$target.find("a"),this.$image=this.$target.find("img"),this.tapedTwice=!1,this.isMouseOver=!1,this.$flyout=o('<div class="easyzoom-flyout" />'),this.$notice=o('<div class="easyzoom-notice" />'),this.$target.on({"mousemove.easyzoom touchmove.easyzoom":o.proxy(this._onMove,this),"mouseleave.easyzoom":o.proxy(this._onLeave,this),"dblclick.easyzoom":o.proxy(this._onEnter,this),"touchstart.easyzoom":o.proxy(this._onDoubleTap,this)}),this.opts.preventClicks&&this.$target.on("click.easyzoom",function(t){t.preventDefault()})},a.prototype._setTapedTwice=function(){this.tapedTwice=!1},a.prototype._onDoubleTap=function(t){var e;if(this.show(t),!this.tapedTwice)return this.tapedTwice=!0,e=this,setTimeout(function(){e.tapedTwice=!1},300),!1;this.tapedTwice&&(this.tapedTwice=!1,this.isMouseOver?this._onLeave(t):this._onEnter(t))},a.prototype.show=function(t,e){var i=this;if(!1!==this.opts.beforeShow.call(this)){if(!this.isReady)return this._loadImage(this.$link.attr(this.opts.linkAttribute),function(){!i.isMouseOver&&e||i.show(t)});this.$target.append(this.$flyout);var o=this.$target.outerWidth(),s=this.$target.outerHeight(),h=this.$flyout.width(),a=this.$flyout.height(),n=this.$zoom.width(),r=this.$zoom.height();c=Math.ceil(n-h),d=Math.ceil(r-a),p=(c=c<0?0:c)/o,l=(d=d<0?0:d)/s,this.isOpen=!0,this.opts.onShow.call(this),t&&this._move(t)}},a.prototype._onEnter=function(t){var e=t.originalEvent.touches;this.isMouseOver=!0,e&&1!=e.length||(t.preventDefault(),this.show(t,!0),document.querySelector(".productView-images").classList.add("show-zoom"))},a.prototype._onMove=function(t){this.isOpen&&(t.preventDefault(),this._move(t))},a.prototype._onLeave=function(){this.isMouseOver=!1,this.isOpen&&this.hide(),document.querySelector(".productView-images").classList.remove("show-zoom")},a.prototype._onLoad=function(t){t.currentTarget.width&&(this.isReady=!0,this.$notice.detach(),this.$flyout.html(this.$zoom),this.$target.removeClass("is-loading").addClass("is-ready"),t.data.call&&t.data())},a.prototype._onError=function(){var t=this;this.$notice.text(this.opts.errorNotice),this.$target.removeClass("is-loading").addClass("is-error"),this.detachNotice=setTimeout(function(){t.$notice.detach(),t.detachNotice=null},this.opts.errorDuration)},a.prototype._loadImage=function(t,e){var i=new Image;this.$target.addClass("is-loading").append(this.$notice.text(this.opts.loadingNotice)),this.$zoom=o(i).on("error",o.proxy(this._onError,this)).on("load",e,o.proxy(this._onLoad,this)),i.style.position="absolute",i.src=t},a.prototype._move=function(t){s=0===t.type.indexOf("touch")?(e=t.touches||t.originalEvent.touches,i=e[0].pageX,e[0].pageY):(i=t.pageX||i,t.pageY||s);var e=this.$target.offset(),t=i-e.left,e=s-e.top,t=Math.ceil(t*p),e=Math.ceil(e*l);t<0||e<0||c<t||d<e?this.hide():(this.$zoom.css({top:e=-1*e,left:t=-1*t}),this.opts.onMove.call(this,e,t))},a.prototype.hide=function(){this.isOpen&&!1!==this.opts.beforeHide.call(this)&&(this.$flyout.detach(),this.isOpen=!1,this.opts.onHide.call(this))},a.prototype.swap=function(t,e,i){this.hide(),this.isReady=!1,this.detachNotice&&clearTimeout(this.detachNotice),this.$notice.parent().length&&this.$notice.detach(),this.$target.removeClass("is-loading is-ready is-error"),this.$image.attr({src:t,srcset:o.isArray(i)?i.join():i}),this.$link.attr(this.opts.linkAttribute,e)},a.prototype.teardown=function(){this.hide(),this.$target.off(".easyzoom").removeClass("is-loading is-ready is-error"),this.detachNotice&&clearTimeout(this.detachNotice),delete this.$link,delete this.$zoom,delete this.$image,delete this.$notice,delete this.$flyout,delete this.isOpen,delete this.isReady},o.fn.easyZoom=function(e){return this.each(function(){var t=o.data(this,"easyZoom");t?void 0===t.isOpen&&t._init():o.data(this,"easyZoom",new a(this,e))})},a});